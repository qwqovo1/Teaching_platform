{% extends "base.html" %}
{% block title %}教学视频列表 - 教学平台{% endblock %}
{% block content %}
<div class="video-container" style="max-width: 800px; margin: 20px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h1>教学视频列表</h1>

    <div class="nav-links" style="margin-bottom: 20px; text-align: center;">
        <a href="/video-catalog" class="link">返回分类目录</a> |
        <a href="/upload-video-page" class="link">上传新视频</a>
    </div>

    {% for video in videos %}
    <div class="video-item" style="margin-bottom: 30px; padding: 15px; border: 1px solid #eee; border-radius: 8px;">
        <h3>{{ video.title }}</h3>
        <p style="font-size: 12px; color: #666;">上传者: {{ video.uploaded_by }} | 时间: {{ video.uploaded_at }}</p>

        <video controls width="100%" style="border-radius: 8px;">
            <source src="/static/videos/{{ video.filename }}" type="video/mp4">
            您的浏览器不支持视频播放。
        </video>

        <form action="/delete-video" method="post" style="margin-top: 10px;">
            <input type="hidden" name="video_id" value="{{ video.id }}">
            <input type="password" name="delete_password" placeholder="删除密码" required style="border: 1px solid #ddd; padding: 5px; border-radius: 4px;">
            <button type="submit" style="background-color: #dc3545; color: white; padding: 5px 12px; border: none; border-radius: 4px; cursor: pointer;">删除视频</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}