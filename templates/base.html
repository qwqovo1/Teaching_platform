<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深大神经语言学实验室 - 在线平台</title>
    <link rel="stylesheet" href="/static/css/global.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --szu-blue: #002a5c;
            --szu-gold: #b39355;
            --text-dark: #333;
            --bg-light: #f8f9fa;
        }
        body { margin: 0; padding: 0; font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; background-color: var(--bg-light); color: var(--text-dark); }

        /* 顶部 Header */
        .top-header { background: white; border-bottom: 3px solid var(--szu-blue); padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; }
        .header-left { display: flex; align-items: center; }
        .header-left img { height: 50px; margin-right: 15px; }
        .header-title h1 { font-size: 20px; margin: 0; color: var(--szu-blue); }
        .header-title p { font-size: 12px; margin: 0; color: #666; text-transform: uppercase; }

        /* 右上角登录状态展示 */
        .user-status { font-size: 14px; display: flex; align-items: center; gap: 15px; }
        .user-info-brief { color: #555; }
        .user-info-brief b { color: var(--szu-blue); }
        .logout-btn { background: none; border: 1px solid #ddd; padding: 4px 12px; border-radius: 4px; cursor: pointer; color: #888; font-size: 12px; transition: 0.3s; }
        .logout-btn:hover { background: #ff4d4f; color: white; border-color: #ff4d4f; }

        /* 导航栏 */
        .main-nav { background: var(--szu-blue); padding: 0 5%; display: flex; justify-content: center; position: sticky; top: 0; z-index: 1000; }
        .nav-links { list-style: none; display: flex; margin: 0; padding: 0; }
        .nav-links li a { display: block; padding: 14px 25px; color: white; text-decoration: none; font-size: 15px; }
        .nav-links li a:hover { background: rgba(255,255,255,0.1); color: var(--szu-gold); }

        .breadcrumb { background: #fff; padding: 10px 5%; border-bottom: 1px solid #eee; font-size: 13px; color: #888; }
        .breadcrumb a { color: #888; text-decoration: none; }

        .footer { background: #222; color: #888; padding: 30px 5%; margin-top: 50px; text-align: center; font-size: 13px; border-top: 5px solid var(--szu-gold); }
    </style>
</head>
<body>

<div class="top-header">
    <div class="header-left">
        <img src="/static/szu_logo.png">
        <div class="header-title">
            <h1>深圳大学</h1>
            <p>神经语言学实验室在线实验系统</p>
        </div>
    </div>
    <div class="header-right">
        {% if role %}
            <div class="user-status">
                <span class="user-info-brief">
                    <i class="fa fa-user-circle"></i> 欢迎，<b>{{ nickname }}</b>
                    <small style="margin-left:5px; background:#f0f0f0; padding:2px 5px; border-radius:3px;">{{ role }}</small>
                </span>
                <form action="/logout" method="post" style="display:inline;">
                    <button type="submit" class="logout-btn">退出</button>
                </form>
            </div>
        {% else %}
            <a href="/login-page" style="text-decoration: none; color: var(--szu-blue); font-weight: bold; font-size: 14px;">
                <i class="fa fa-sign-in-alt"></i> 登录 / 注册
            </a>
        {% endif %}
    </div>
</div>

<nav class="main-nav">
    <ul class="nav-links">
        <li><a href="/index"><i class="fa fa-home"></i> 首页</a></li>
        <li><a href="/video-catalog"><i class="fa fa-video"></i> 视频课室</a></li>
        <li><a href="/test-catalog"><i class="fa fa-brain"></i> 测试题</a></li>
        <li><a href="/profile"><i class="fa fa-id-card"></i> 个人中心</a></li>
        {% if role == 'admin' %}
            <li><a href="/admin/users" style="color: #ffda79;"><i class="fa fa-cog"></i> 账号管理</a></li>
        {% endif %}
    </ul>
</nav>

{% block content %}{% endblock %}

<footer class="footer">
    <p>版权所有 © 深圳大学神经语言学实验室 - Neurolinguistics Lab, SZU</p>
    <p>地址：深圳市南山区粤海街道深圳大学汇文楼 | 联系我们：lab@szu.edu.cn</p>
</footer>
</body>
</html>