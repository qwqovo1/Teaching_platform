{% extends "base.html" %}
{% block content %}
<div class="card-container" style="max-width: 420px;">
    <!-- 头像预览区域，拉大下边距 -->
    <div style="margin-bottom: 35px;">
        <img src="{% if avatar %}{{ avatar }}{% else %}/static/icons/default.png{% endif %}"
             style="width: 110px; height: 110px; border-radius: 50%; border: 3px solid #6a11cb; object-fit: cover; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
    </div>

    <form action="/update-profile" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label class="form-label">上传新头像</label>
            <input type="file" name="avatar_upload" accept="image/*" class="form-input" style="padding-top: 8px;">
        </div>
        <div class="form-group">
            <label class="form-label">修改昵称</label>
            <input type="text" name="nickname" value="{{ nickname }}" class="form-input" required>
        </div>
        <button type="submit" class="btn btn-primary">保存个人信息</button>
    </form>

    <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
        <form action="/logout" method="post">
            <button type="submit" style="background: none; border: none; color: #dc3545; cursor: pointer; font-size: 15px; font-weight: bold;">[ 永久退出登录 ]</button>
        </form>
    </div>
</div>
{% endblock %}