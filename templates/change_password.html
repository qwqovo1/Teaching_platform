{% extends "base.html" %}

{% block content %}
<div class="breadcrumb">
    位置：<a href="/index">首页</a> > <a href="/profile">个人中心</a> > 修改密码
</div>

<div style="max-width: 600px; margin: 60px auto; background: white; padding: 40px; border: 1px solid #e0e0e0; border-radius: 4px;">
    <h2 style="color: var(--szu-blue); margin-top: 0; border-bottom: 2px solid var(--szu-gold); display: inline-block; padding-bottom: 5px;">安全中心</h2>
    <p style="color: #666; font-size: 14px; margin-top: 10px;">为了您的账户安全，建议定期更改登录密码。</p>

    {% if error %}
    <div style="padding: 15px; margin: 20px 0; border-radius: 4px; font-size: 14px; {% if success %}background:#f6ffed; border:1px solid #b7eb8f; color:#52c41a;{% else %}background:#fff2f0; border:1px solid #ffccc7; color:#ff4d4f;{% endif %}">
        {% if success %}<i class="fa fa-check-circle"></i>{% else %}<i class="fa fa-exclamation-circle"></i>{% endif %} {{ error }}
    </div>
    {% endif %}

    <form action="/change-password-action" method="post" style="margin-top: 30px;">
        <div style="margin-bottom: 25px;">
            <label style="display: block; font-weight: bold; color: #444; margin-bottom: 10px;">当前原密码</label>
            <input type="password" name="old_password" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;" required>
        </div>

        <div style="margin-bottom: 30px;">
            <label style="display: block; font-weight: bold; color: #444; margin-bottom: 10px;">设置新密码（至少6位）</label>
            <input type="password" name="new_password" minlength="6" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;" required>
        </div>

        <button type="submit" style="background: var(--szu-blue); color: white; border: none; padding: 15px 30px; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold; width: 100%;">
            确认提交更新
        </button>
    </form>

    <div style="margin-top: 25px; text-align: center;">
        <a href="/profile" style="color: #888; text-decoration: none; font-size: 14px;">取消并返回</a>
    </div>
</div>
{% endblock %}