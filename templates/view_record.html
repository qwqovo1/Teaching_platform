{% extends "base.html" %}
{% block content %}
<div class="breadcrumb">位置：首页 > <a href="/profile">个人中心</a> > 报告预览</div>

<div style="max-width: 1000px; margin: 30px auto; padding: 0 20px;">
    <div style="background: white; border: 1px solid #e0e0e0; border-radius: 4px; padding: 50px; box-shadow: 0 4px 20px rgba(0,0,0,0.05);">

        <!-- 预览页眉 -->
        <div style="display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 2px solid var(--szu-blue); padding-bottom: 15px; margin-bottom: 30px;">
            <div>
                <h2 style="color: var(--szu-blue); margin: 0;">实验报告在线预览</h2>
                <p style="color: #666; font-size: 13px; margin-top: 5px;">文件标识：{{ filename }}</p>
            </div>
            <a href="/profile" style="color: var(--szu-blue); text-decoration: none; font-size: 14px; font-weight: bold;"><i class="fa fa-arrow-left"></i> 返回个人中心</a>
        </div>

        <!-- 文本展示区：改为白底黑字，专业打印风格 -->
        <pre style="background: #fcfcfc; padding: 30px; border: 1px solid #eee; white-space: pre-wrap; font-family: 'Consolas', 'Monaco', monospace; font-size: 15px; line-height: 1.8; color: #333; overflow-x: auto;">{{ content }}</pre>

        <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; text-align: center;">
            <p style="color: #999; font-size: 13px;">本报告由深圳大学神经语言学实验室平台自动生成，仅限内部科研使用。</p>
            {% if role == 'admin' %}
            <p style="color: var(--szu-gold); font-size: 14px; font-weight: bold;"><i class="fa fa-info-circle"></i> 您拥有管理员权限，可在个人中心批量下载此 TXT 原件。</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}