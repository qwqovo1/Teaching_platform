{% extends "base.html" %}

{% block content %}
<div class="container" style="max-width: 850px; margin: 50px auto; position: relative; z-index: 10;">
    <div style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); padding: 40px; border-radius: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.15);">

        <!-- 头部区域 -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; border-bottom: 2px solid #f0f0f0; padding-bottom: 15px;">
            <h2 style="margin: 0; color: #764ba2;">📜 实验报告预览</h2>
            <a href="/profile" style="color: #6a82fb; text-decoration: none; font-weight: bold; font-size: 0.9rem;">← 返回个人中心</a>
        </div>

        <p style="font-size: 0.85rem; color: #666; margin-bottom: 20px; background: #eee; display: inline-block; padding: 4px 12px; border-radius: 8px;">
            文件存档名：{{ filename }}
        </p>

        <!-- 文本内容展示区：使用 pre 标签保留原始 TXT 格式 -->
        <pre style="background: #2d3436; padding: 25px; border-radius: 15px; border: 1px solid #000; white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 0.95rem; line-height: 1.6; color: #dfe6e9; box-shadow: inset 0 2px 10px rgba(0,0,0,0.2); overflow-x: auto;">{{ content }}</pre>

        <!-- 底部提示 -->
        <div style="margin-top: 30px; text-align: center;">
            <p style="color: #999; font-size: 0.8rem;">温馨提示：此报告为系统自动生成的实验存档，仅供在线查阅。</p>
            {% if role == 'admin' %}
            <p style="color: #2ecc71; font-size: 0.8rem; font-weight: bold;">[ 您是管理员，可在个人中心下载此报告原文 ]</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}